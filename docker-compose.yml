services:
  workspace-secretary:
    image: ghcr.io/johnneerdael/mail-automation-mcp:latest
    container_name: workspace-secretary
    restart: always
    ports:
      - "8080:8080"
      - "8000:8000"
    volumes:
      # Mount the config directory
      - ./config.yaml:/app/config/config.yaml
      - ./config:/app/config
      # Persist tasks if needed (optional if using external storage)
      - ./tasks.json:/app/tasks.json
    command: uv run python -m workspace_secretary.server --transport http --host 0.0.0.0 --port 8000
    stdin_open: true
    tty: true
